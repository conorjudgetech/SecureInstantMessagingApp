{% extends "base.html" %}

{% block content %}
<h2>Inbox</h2>
<p><a href="{{ url_for('send_message_route') }}">Send a Message</a> | <a href="{{ url_for('logout') }}">Logout</a></p>

{% if messages %}
    <ul>
        {% for msg in messages %}
            <li>
                <strong>From:</strong> {{ msg.sender }} <br>
                {% if msg.valid %}
                    <a href="{{ url_for('view_message', msg_id=loop.index0) }}">View Message</a>
                {% else %}
                    <em>Corrupted Message - Cannot be Displayed</em>
                {% endif %}
                <hr>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No messages.</p>
{% endif %}
{% endblock %}